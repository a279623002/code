<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>go设计模式</title>
    <script src="../../assets/js/font.js"></script>
    <link rel="stylesheet" href="../../assets/css/public.css">
    <link rel="stylesheet" href="../../assets/css/note.css">
</head>
<body>
<header></header>
<main>
    <div id="code">

    </div>

    <a href="javascript:history.go(-1);" class="back"></a>
</main>

<script src="../../assets/js/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    function GetQueryString(name)
    {
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)")
        var r = window.location.search.substr(1).match(reg)
        if(r!=null)return  unescape(r[2]); return null
    }

    var tag = GetQueryString("tag")
    tag = tag ? tag : "factory/simpleFactory"
    var files = GetQueryString("files")
    files = files ? files : "simpleFactory.go"
    files = files.split(",")
    for (var i=0; i<files.length; i++) {
        var fileName = files[i]
        var filePath = "./"+tag+"/"+fileName

        $('#code').append("<p class='title'>"+fileName+"</p>")
        $.ajax({
            url: filePath,async:false, success: function (data) {
                $('#code').append("<pre>"+data+"</pre>")
            }
        })
    }

</script>
</body>
</html>